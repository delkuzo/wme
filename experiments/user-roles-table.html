<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Таблица пользователей с ролями - Эксперимент</title>
    <link rel="stylesheet" href="../styles/fonts.css">
    <link rel="stylesheet" href="../styles/design-tokens.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'red-primary': 'var(--color-red)',
                        'text-hint': 'var(--color-hint)',
                        'text-foreground': 'var(--color-foreground)',
                        'border-light': 'var(--color-border-light)',
                        'bg-control': 'var(--color-control)',
                        'bg-background': 'var(--color-background)',
                        'link': 'var(--color-link)',
                        'white': 'var(--color-white)'
                    },
                    fontFamily: {
                        'ys': ['YS Text', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                        'sans': ['YS Text', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    fontWeight: {
                        'light': '300',
                        'normal': '400',
                        'medium': '500',
                        'bold': '700'
                    },
                    spacing: {
                        '0': '0px',
                        'xxxs': '2px',
                        'xxs': '4px', 
                        'xs': '6px',
                        's': '8px',
                        's-spec': '12px',
                        'm': '16px',
                        'm-spec': '20px',
                        'l': '24px',
                        'xl': '32px',
                        'xxl': '40px'
                    }
                }
            }
        }
    </script>
    <style>
        /* Стили для таблицы */
        .user-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--color-white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .user-table th {
            background: var(--color-control);
            padding: var(--spacing-m);
            text-align: left;
            font-weight: 500;
            color: var(--color-foreground);
            border-bottom: 1px solid var(--color-border-light);
            font-size: 14px;
        }

        .user-table td {
            padding: var(--spacing-m);
            border-bottom: 1px solid var(--color-border-light);
            font-size: 14px;
            color: var(--color-foreground);
        }

        .user-table tr:last-child td {
            border-bottom: none;
        }

        .user-table tr:hover {
            background: var(--color-control);
        }

        /* Стили для кода проверки */
        .verification-code {
            font-family: 'SF Mono', 'Monaco', 'Menlo', 'Consolas', monospace;
            background: var(--color-control);
            padding: var(--spacing-xs) var(--spacing-s);
            border-radius: 6px;
            font-size: 12px;
            color: var(--color-foreground);
            letter-spacing: 0.5px;
        }

        /* Стили для селекта ролей */
        .role-select {
            padding: var(--spacing-xs) var(--spacing-s);
            border: 1px solid var(--color-border-light);
            border-radius: 6px;
            background: var(--color-white);
            color: var(--color-foreground);
            font-size: 14px;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .role-select:hover {
            border-color: var(--color-link);
        }

        .role-select:focus {
            outline: none;
            border-color: var(--color-red);
            box-shadow: 0 0 0 2px rgba(255, 107, 97, 0.1);
        }

        /* Стили для разных ролей */
        .role-owner {
            color: var(--color-red);
            font-weight: 500;
        }

        .role-readonly {
            color: var(--color-hint);
        }

        .role-edit {
            color: var(--color-link);
        }

        .role-partial {
            color: #FF9500;
        }

        /* Стили для даты */
        .date-added {
            color: var(--color-hint);
            font-size: 13px;
        }

        /* Стили для email */
        .user-email {
            color: var(--color-foreground);
            font-weight: 500;
        }

        /* Контейнер для таблицы */
        .table-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }

        /* Заголовок эксперимента */
        .experiment-header {
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .experiment-title {
            font-size: 24px;
            font-weight: 500;
            color: var(--color-foreground);
            margin-bottom: var(--spacing-s);
        }

        .experiment-description {
            color: var(--color-hint);
            font-size: 14px;
        }
    </style>
</head>
<body class="bg-background font-ys">
    <div class="table-container">
        <div class="experiment-header">
            <h1 class="experiment-title">Таблица пользователей с ролями</h1>
            <p class="experiment-description">Эксперимент: управление ролями пользователей в проекте</p>
        </div>

        <table class="user-table">
            <thead>
                <tr>
                    <th>Email пользователя</th>
                    <th>Код проверки</th>
                    <th>Роль</th>
                    <th>Дата добавления</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="user-email">ivan.petrov@company.com</td>
                    <td><span class="verification-code">A7B9C2D4E8F1</span></td>
                    <td>
                        <select class="role-select role-owner">
                            <option value="owner" selected>Владелец</option>
                            <option value="readonly">Только чтение</option>
                            <option value="edit">Редактирование</option>
                            <option value="partial">Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">15.12.2024</td>
                </tr>
                <tr>
                    <td class="user-email">maria.sidorova@company.com</td>
                    <td><span class="verification-code">K3L5M7N9P2Q4</span></td>
                    <td>
                        <select class="role-select role-edit">
                            <option value="owner">Владелец</option>
                            <option value="readonly">Только чтение</option>
                            <option value="edit" selected>Редактирование</option>
                            <option value="partial">Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">18.12.2024</td>
                </tr>
                <tr>
                    <td class="user-email">alex.kuznetsov@company.com</td>
                    <td><span class="verification-code">R6S8T1U3V5W7</span></td>
                    <td>
                        <select class="role-select role-partial">
                            <option value="owner">Владелец</option>
                            <option value="readonly">Только чтение</option>
                            <option value="edit">Редактирование</option>
                            <option value="partial" selected>Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">20.12.2024</td>
                </tr>
                <tr>
                    <td class="user-email">elena.volkova@company.com</td>
                    <td><span class="verification-code">X9Y2Z4A6B8C1</span></td>
                    <td>
                        <select class="role-select role-readonly">
                            <option value="owner">Владелец</option>
                            <option value="readonly" selected>Только чтение</option>
                            <option value="edit">Редактирование</option>
                            <option value="partial">Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">22.12.2024</td>
                </tr>
                <tr>
                    <td class="user-email">dmitry.ivanov@company.com</td>
                    <td><span class="verification-code">D3E5F7G9H2I4</span></td>
                    <td>
                        <select class="role-select role-edit">
                            <option value="owner">Владелец</option>
                            <option value="readonly">Только чтение</option>
                            <option value="edit" selected>Редактирование</option>
                            <option value="partial">Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">25.12.2024</td>
                </tr>
                <tr>
                    <td class="user-email">anna.smirnova@company.com</td>
                    <td><span class="verification-code">J6K8L1M3N5O7</span></td>
                    <td>
                        <select class="role-select role-readonly">
                            <option value="owner">Владелец</option>
                            <option value="readonly" selected>Только чтение</option>
                            <option value="edit">Редактирование</option>
                            <option value="partial">Частичное редактирование</option>
                        </select>
                    </td>
                    <td class="date-added">28.12.2024</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // Обработчик изменения ролей
        document.querySelectorAll('.role-select').forEach(select => {
            select.addEventListener('change', function() {
                // Удаляем все классы ролей
                this.classList.remove('role-owner', 'role-readonly', 'role-edit', 'role-partial');
                
                // Добавляем соответствующий класс
                const value = this.value;
                if (value === 'owner') {
                    this.classList.add('role-owner');
                } else if (value === 'readonly') {
                    this.classList.add('role-readonly');
                } else if (value === 'edit') {
                    this.classList.add('role-edit');
                } else if (value === 'partial') {
                    this.classList.add('role-partial');
                }
            });
        });
    </script>
</body>
</html> 